Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;var r,o,s=0|e,a=Math.max(s>=0?s:i-Math.abs(s),0);for(;a<i;){if((r=n[a])===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;a++}return!1}});var FORM_ELEMENTS=["DATALIST","INPUT","OPTGROUP","SELECT","TEXTAREA"];function cloneFormNodes(t,e){for(var n=new Array,i=0;i<t.length;i++){if(t[i].nodeName.includes("#"))n[i]=t[i].cloneNode(!0);else{n[i]=document.createElement(t[i].nodeName);for(var r=0,o=t[i].attributes.length;r<o;r++)n[i].setAttribute(t[i].attributes[r].name,t[i].attributes[r].value);FORM_ELEMENTS.includes(t[i].nodeName)?(n[i].name=e+t[i].name,n[i].id=e+t[i].id):"LABEL"==t[i].nodeName?n[i].setAttribute("for",e+t[i].getAttribute("for")):(t[i].id&&(n[i].id=e+t[i].id),t[i].name&&(n[i].name=e+t[i].name))}if(t[i].childNodes.length>0)for(var s=cloneFormNodes(t[i].childNodes,e),a=0,d=s.length;a<d;a++)n[i].appendChild(s[a])}return n}function Template(t,e){this.nodes=Array(),this.prefix=e,this.currentIteration=0,this.classList=[];for(var n=0,i=t.classList.length;n<i;n++)this.classList.push(t.classList[n]);for(var r=0,o=t.childNodes.length;r<o;r++)this.nodes[r]=t.childNodes[0].cloneNode(!0),t.removeChild(t.childNodes[0]);this.createInstance=function(){for(var t,e="",n=document.createElement("div"),i=document.createElement("div"),r=0,o=this.classList.length;r<o;r++)n.classList.add(this.classList[r]);n.classList.remove("multiform","multiform-item"),i.innerHTML="Remove",i.setAttribute("type","button"),i.setAttribute("class","btn btn-danger multiform-remove"),this.prefix&&(e=this.prefix+"_"),e+=this.currentIteration.toString()+"-",n.id=e+"item_container",i.setAttribute("data-itemcontainer",n.id),t=cloneFormNodes(this.nodes,e);for(var s in t)n.appendChild(t[s]);return n.appendChild(i),this.currentIteration++,n}}function MultiformContainer(t){this.container=t,this.controlsContainer=document.createElement("div"),this.addButton=document.createElement("div"),this.addButton.innerHTML="Add",this.addButton.setAttribute("type","button"),this.addButton.setAttribute("class","btn btn-success"),this.addButton.setAttribute("id","multiform-add"),this.controlsContainer.setAttribute("id","multiform-controls"),this.controlsContainer.appendChild(this.addButton),this.container.appendChild(this.controlsContainer),this.appendChild=function(t){this.container.appendChild(t),$(".multiform-remove").unbind("click"),$(".multiform-remove").click(function(){$("#"+$(this).data("itemcontainer")).remove()})}}!function(t){t.fn.multiForm=function(e,n){var i=this.filter(".multiform-item"),r=Array(),o=n||null,s=new Template(this.not(".multiform-item")[0],e),a=new MultiformContainer(this.not(".multiform-item")[0]);a.container.classList=[],a.container.id="multiform-container";var d=0;for(i.length;d<i.length;d++)itemsArrayIndex=r.length,r[itemsArrayIndex]=new Template(i[d],e),r[itemsArrayIndex].currentIteration=d,a.appendChild(r[itemsArrayIndex].createInstance()),i[d].parentElement.removeChild(i[d]);return s.currentIteration=i.length,a.appendChild(s.createInstance()),t("#multiform-add").click(function(){a.appendChild(s.createInstance()),o&&o()}),this}}(jQuery);